{"id":"NqYy","dependencies":[{"name":"C:\\Users\\logan\\Projects\\plugs\\packages\\backup\\.babelrc","includedInParent":true,"mtime":1566284806160},{"name":"C:\\Users\\logan\\Projects\\plugs\\packages\\backup\\package.json","includedInParent":true,"mtime":1566388704121}],"generated":{"js":"importScripts(\"https://unpkg.com/dexie@2.0.4/dist/dexie.js\",\"https://unpkg.com/ramda@0.26.1/dist/ramda.min.js\",\"https://unpkg.com/axios@0.19.0/dist/axios.min.js\",\"https://unpkg.com/swivel@4.0.3/dist/swivel.min.js\");let e=[\"index.html\",\"index.js\"];addEventListener(\"install\",async t=>{console.log(\"Service Worker installing.\"),(await caches.open(\"my_$\")).addAll(e)}),addEventListener(\"activate\",function(e){e.waitUntil(self.clients.claim())}),addEventListener(\"message\",async e=>console.log(\"Service Worker messaging.\")),addEventListener(\"fetch\",e=>{var r=new Dexie(\"post_cache\");const s=e.request.clone(),c=new URL(s.url);console.log(\"url.origin:\",c.origin),\"POST\"===s.method&&c.pathname.match(/graphql/g).length>0&&null===c.href.match(/mutation/g)?(console.log(\"mutations:\",c.href.match(/mutation/g)),console.log(\"req:\",s),console.log(\"url:\",c),console.log(\"evt:\",e),o(r,e)):c.origin===location.origin?e.respondWith(t(s)):e.respondWith(n(s))});const t=async e=>{return await caches.match(e)||fetch(e)},n=async e=>{const t=await caches.open(\"new_$\");try{const o=await fetch(e);return t.put(e,o.clone()),o}catch(n){return console.log(\"netThen$ ERROR:\",n),await caches.match(e)}},o=async(e,t)=>{const n=t.request.clone(),o=new URL(n.url),r=await caches.open(\"graphql_$\");try{const e=await fetch(n);return r.put(o.href,e.clone()),e}catch(s){return console.log(\"netThen$ ERROR:\",s),await caches.match(n)}},r=(e,t)=>{e.version(1).stores({post_cache:\"key, response, timestamp\"}),t.respondWith(fetch(t.request.clone()).then(n=>{const o=t.request.clone().url;return console.log(\"URL in caching:\",o),h(t.request.clone(),n.clone(),e.post_cache),n}).catch(n=>(console.log(\"caught error in graphql:\",n),u(t.request.clone(),e.post_cache))))};function s(e){var t={url:e.url,headers:a(e.headers),method:e.method,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer};return\"GET\"!==e.method&&\"HEAD\"!==e.method?e.clone().text().then(function(e){return t.body=e,Promise.resolve(t)}):Promise.resolve(t)}function c(e){var t={headers:a(e.headers),status:e.status,statusText:e.statusText};return e.clone().text().then(function(e){return t.body=e,Promise.resolve(t)})}function a(e){var t={};for(var n of e.entries())t[n[0]]=n[1];return t}function i(e){return Promise.resolve(new Response(e.body,e))}const l=async e=>JSON.stringify(s(e.clone()));function h(e,t,n){var o;l(e.clone()).then(function(e){return o=e,c(t.clone())}).then(function(e){var t={key:o,response:e,timestamp:Date.now()};n.add(t).catch(function(e){n.update(t.key,t)})})}function u(e){return l(e.clone()).then(function(e){return store.get(e)}).then(function(e){return e?i(e.response):new Response(\"\",{status:503,statusText:\"Service Unavailable\"})})}"},"sourceMaps":{"js":{"mappings":[{"source":"sw.js","name":"importScripts","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"sw.js","original":{"line":2,"column":2},"generated":{"line":1,"column":14}},{"source":"sw.js","original":{"line":3,"column":2},"generated":{"line":1,"column":60}},{"source":"sw.js","original":{"line":4,"column":2},"generated":{"line":1,"column":111}},{"source":"sw.js","original":{"line":5,"column":2},"generated":{"line":1,"column":162}},{"source":"sw.js","original":{"line":8,"column":0},"generated":{"line":1,"column":215}},{"source":"sw.js","name":"static","original":{"line":8,"column":4},"generated":{"line":1,"column":219}},{"source":"sw.js","original":{"line":8,"column":13},"generated":{"line":1,"column":221}},{"source":"sw.js","original":{"line":8,"column":14},"generated":{"line":1,"column":222}},{"source":"sw.js","original":{"line":8,"column":28},"generated":{"line":1,"column":235}},{"source":"sw.js","name":"addEventListener","original":{"line":10,"column":0},"generated":{"line":1,"column":247}},{"source":"sw.js","original":{"line":10,"column":17},"generated":{"line":1,"column":264}},{"source":"sw.js","original":{"line":10,"column":28},"generated":{"line":1,"column":274}},{"source":"sw.js","original":{"line":10,"column":28},"generated":{"line":1,"column":280}},{"source":"sw.js","name":"console","original":{"line":11,"column":2},"generated":{"line":1,"column":284}},{"source":"sw.js","name":"log","original":{"line":11,"column":10},"generated":{"line":1,"column":292}},{"source":"sw.js","original":{"line":11,"column":14},"generated":{"line":1,"column":296}},{"source":"sw.js","name":"caches","original":{"line":12,"column":20},"generated":{"line":1,"column":333}},{"source":"sw.js","name":"open","original":{"line":12,"column":27},"generated":{"line":1,"column":340}},{"source":"sw.js","original":{"line":12,"column":32},"generated":{"line":1,"column":345}},{"source":"sw.js","name":"addAll","original":{"line":13,"column":6},"generated":{"line":1,"column":354}},{"source":"sw.js","name":"static","original":{"line":13,"column":13},"generated":{"line":1,"column":361}},{"source":"sw.js","name":"addEventListener","original":{"line":23,"column":0},"generated":{"line":1,"column":366}},{"source":"sw.js","original":{"line":23,"column":17},"generated":{"line":1,"column":383}},{"source":"sw.js","original":{"line":23,"column":29},"generated":{"line":1,"column":394}},{"source":"sw.js","name":"event","original":{"line":23,"column":38},"generated":{"line":1,"column":403}},{"source":"sw.js","name":"event","original":{"line":24,"column":2},"generated":{"line":1,"column":406}},{"source":"sw.js","name":"waitUntil","original":{"line":24,"column":8},"generated":{"line":1,"column":408}},{"source":"sw.js","name":"self","original":{"line":24,"column":18},"generated":{"line":1,"column":418}},{"source":"sw.js","name":"clients","original":{"line":24,"column":23},"generated":{"line":1,"column":423}},{"source":"sw.js","name":"claim","original":{"line":24,"column":31},"generated":{"line":1,"column":431}},{"source":"sw.js","name":"addEventListener","original":{"line":27,"column":0},"generated":{"line":1,"column":442}},{"source":"sw.js","original":{"line":27,"column":17},"generated":{"line":1,"column":459}},{"source":"sw.js","original":{"line":27,"column":28},"generated":{"line":1,"column":469}},{"source":"sw.js","original":{"line":27,"column":28},"generated":{"line":1,"column":475}},{"source":"sw.js","name":"console","original":{"line":28,"column":2},"generated":{"line":1,"column":478}},{"source":"sw.js","name":"log","original":{"line":28,"column":10},"generated":{"line":1,"column":486}},{"source":"sw.js","original":{"line":28,"column":14},"generated":{"line":1,"column":490}},{"source":"sw.js","name":"addEventListener","original":{"line":31,"column":0},"generated":{"line":1,"column":520}},{"source":"sw.js","original":{"line":31,"column":17},"generated":{"line":1,"column":537}},{"source":"sw.js","name":"evt","original":{"line":31,"column":26},"generated":{"line":1,"column":545}},{"source":"sw.js","name":"db","original":{"line":34,"column":6},"generated":{"line":1,"column":549}},{"source":"sw.js","name":"db","original":{"line":34,"column":6},"generated":{"line":1,"column":553}},{"source":"sw.js","original":{"line":34,"column":11},"generated":{"line":1,"column":555}},{"source":"sw.js","name":"Dexie","original":{"line":34,"column":15},"generated":{"line":1,"column":559}},{"source":"sw.js","original":{"line":34,"column":21},"generated":{"line":1,"column":565}},{"source":"sw.js","name":"req","original":{"line":35,"column":8},"generated":{"line":1,"column":579}},{"source":"sw.js","name":"req","original":{"line":35,"column":8},"generated":{"line":1,"column":585}},{"source":"sw.js","name":"evt","original":{"line":35,"column":14},"generated":{"line":1,"column":587}},{"source":"sw.js","name":"request","original":{"line":35,"column":18},"generated":{"line":1,"column":589}},{"source":"sw.js","name":"clone","original":{"line":35,"column":26},"generated":{"line":1,"column":597}},{"source":"sw.js","name":"url","original":{"line":36,"column":8},"generated":{"line":1,"column":605}},{"source":"sw.js","original":{"line":36,"column":14},"generated":{"line":1,"column":607}},{"source":"sw.js","name":"URL","original":{"line":36,"column":18},"generated":{"line":1,"column":611}},{"source":"sw.js","name":"req","original":{"line":36,"column":22},"generated":{"line":1,"column":615}},{"source":"sw.js","name":"url","original":{"line":36,"column":26},"generated":{"line":1,"column":617}},{"source":"sw.js","name":"console","original":{"line":37,"column":2},"generated":{"line":1,"column":622}},{"source":"sw.js","name":"log","original":{"line":37,"column":10},"generated":{"line":1,"column":630}},{"source":"sw.js","original":{"line":37,"column":14},"generated":{"line":1,"column":634}},{"source":"sw.js","name":"url","original":{"line":37,"column":29},"generated":{"line":1,"column":648}},{"source":"sw.js","name":"origin","original":{"line":37,"column":33},"generated":{"line":1,"column":650}},{"source":"sw.js","original":{"line":39,"column":19},"generated":{"line":1,"column":658}},{"source":"sw.js","name":"req","original":{"line":39,"column":4},"generated":{"line":1,"column":667}},{"source":"sw.js","name":"method","original":{"line":39,"column":8},"generated":{"line":1,"column":669}},{"source":"sw.js","name":"url","original":{"line":40,"column":4},"generated":{"line":1,"column":677}},{"source":"sw.js","name":"pathname","original":{"line":40,"column":8},"generated":{"line":1,"column":679}},{"source":"sw.js","name":"match","original":{"line":40,"column":17},"generated":{"line":1,"column":688}},{"source":"sw.js","original":{"line":40,"column":23},"generated":{"line":1,"column":694}},{"source":"sw.js","name":"length","original":{"line":40,"column":35},"generated":{"line":1,"column":706}},{"source":"sw.js","original":{"line":40,"column":44},"generated":{"line":1,"column":713}},{"source":"sw.js","original":{"line":41,"column":36},"generated":{"line":1,"column":716}},{"source":"sw.js","name":"url","original":{"line":41,"column":4},"generated":{"line":1,"column":723}},{"source":"sw.js","name":"href","original":{"line":41,"column":8},"generated":{"line":1,"column":725}},{"source":"sw.js","name":"match","original":{"line":41,"column":13},"generated":{"line":1,"column":730}},{"source":"sw.js","original":{"line":41,"column":19},"generated":{"line":1,"column":736}},{"source":"sw.js","name":"console","original":{"line":43,"column":4},"generated":{"line":1,"column":750}},{"source":"sw.js","name":"log","original":{"line":43,"column":12},"generated":{"line":1,"column":758}},{"source":"sw.js","original":{"line":43,"column":16},"generated":{"line":1,"column":762}},{"source":"sw.js","name":"url","original":{"line":43,"column":30},"generated":{"line":1,"column":775}},{"source":"sw.js","name":"href","original":{"line":43,"column":34},"generated":{"line":1,"column":777}},{"source":"sw.js","name":"match","original":{"line":43,"column":39},"generated":{"line":1,"column":782}},{"source":"sw.js","original":{"line":43,"column":45},"generated":{"line":1,"column":788}},{"source":"sw.js","name":"console","original":{"line":44,"column":4},"generated":{"line":1,"column":802}},{"source":"sw.js","name":"log","original":{"line":44,"column":12},"generated":{"line":1,"column":810}},{"source":"sw.js","original":{"line":44,"column":16},"generated":{"line":1,"column":814}},{"source":"sw.js","name":"req","original":{"line":44,"column":24},"generated":{"line":1,"column":821}},{"source":"sw.js","name":"console","original":{"line":45,"column":4},"generated":{"line":1,"column":824}},{"source":"sw.js","name":"log","original":{"line":45,"column":12},"generated":{"line":1,"column":832}},{"source":"sw.js","original":{"line":45,"column":16},"generated":{"line":1,"column":836}},{"source":"sw.js","name":"url","original":{"line":45,"column":24},"generated":{"line":1,"column":843}},{"source":"sw.js","name":"console","original":{"line":46,"column":4},"generated":{"line":1,"column":846}},{"source":"sw.js","name":"log","original":{"line":46,"column":12},"generated":{"line":1,"column":854}},{"source":"sw.js","original":{"line":46,"column":16},"generated":{"line":1,"column":858}},{"source":"sw.js","name":"evt","original":{"line":46,"column":24},"generated":{"line":1,"column":865}},{"source":"sw.js","name":"graphql","original":{"line":47,"column":4},"generated":{"line":1,"column":868}},{"source":"sw.js","name":"db","original":{"line":47,"column":12},"generated":{"line":1,"column":870}},{"source":"sw.js","name":"evt","original":{"line":47,"column":16},"generated":{"line":1,"column":872}},{"source":"sw.js","name":"url","original":{"line":48,"column":13},"generated":{"line":1,"column":876}},{"source":"sw.js","name":"origin","original":{"line":48,"column":17},"generated":{"line":1,"column":878}},{"source":"sw.js","name":"location","original":{"line":48,"column":28},"generated":{"line":1,"column":887}},{"source":"sw.js","name":"origin","original":{"line":48,"column":37},"generated":{"line":1,"column":896}},{"source":"sw.js","name":"evt","original":{"line":49,"column":4},"generated":{"line":1,"column":903}},{"source":"sw.js","name":"respondWith","original":{"line":49,"column":8},"generated":{"line":1,"column":905}},{"source":"sw.js","name":"$thenNet","original":{"line":49,"column":20},"generated":{"line":1,"column":917}},{"source":"sw.js","name":"req","original":{"line":49,"column":29},"generated":{"line":1,"column":919}},{"source":"sw.js","name":"evt","original":{"line":51,"column":4},"generated":{"line":1,"column":923}},{"source":"sw.js","name":"respondWith","original":{"line":51,"column":8},"generated":{"line":1,"column":925}},{"source":"sw.js","name":"netThen$","original":{"line":51,"column":20},"generated":{"line":1,"column":937}},{"source":"sw.js","name":"req","original":{"line":51,"column":29},"generated":{"line":1,"column":939}},{"source":"sw.js","original":{"line":55,"column":0},"generated":{"line":1,"column":945}},{"source":"sw.js","name":"$thenNet","original":{"line":55,"column":6},"generated":{"line":1,"column":951}},{"source":"sw.js","original":{"line":55,"column":17},"generated":{"line":1,"column":953}},{"source":"sw.js","original":{"line":55,"column":17},"generated":{"line":1,"column":959}},{"source":"sw.js","name":"$ed","original":{"line":58,"column":9},"generated":{"line":1,"column":963}},{"source":"sw.js","name":"caches","original":{"line":57,"column":20},"generated":{"line":1,"column":976}},{"source":"sw.js","name":"match","original":{"line":57,"column":27},"generated":{"line":1,"column":983}},{"source":"sw.js","name":"req","original":{"line":57,"column":33},"generated":{"line":1,"column":989}},{"source":"sw.js","name":"fetch","original":{"line":58,"column":16},"generated":{"line":1,"column":993}},{"source":"sw.js","name":"req","original":{"line":58,"column":22},"generated":{"line":1,"column":999}},{"source":"sw.js","name":"netThen$","original":{"line":61,"column":6},"generated":{"line":1,"column":1003}},{"source":"sw.js","original":{"line":61,"column":17},"generated":{"line":1,"column":1005}},{"source":"sw.js","original":{"line":61,"column":17},"generated":{"line":1,"column":1011}},{"source":"sw.js","name":"$er","original":{"line":66,"column":8},"generated":{"line":1,"column":1015}},{"source":"sw.js","name":"$er","original":{"line":66,"column":8},"generated":{"line":1,"column":1021}},{"source":"sw.js","name":"caches","original":{"line":66,"column":20},"generated":{"line":1,"column":1029}},{"source":"sw.js","name":"open","original":{"line":66,"column":27},"generated":{"line":1,"column":1036}},{"source":"sw.js","original":{"line":66,"column":32},"generated":{"line":1,"column":1041}},{"source":"sw.js","original":{"line":67,"column":6},"generated":{"line":1,"column":1050}},{"source":"sw.js","name":"res","original":{"line":68,"column":10},"generated":{"line":1,"column":1054}},{"source":"sw.js","name":"res","original":{"line":68,"column":10},"generated":{"line":1,"column":1060}},{"source":"sw.js","name":"fetch","original":{"line":68,"column":22},"generated":{"line":1,"column":1068}},{"source":"sw.js","name":"req","original":{"line":68,"column":28},"generated":{"line":1,"column":1074}},{"source":"sw.js","name":"res","original":{"line":70,"column":11},"generated":{"line":1,"column":1077}},{"source":"sw.js","name":"$er","original":{"line":69,"column":4},"generated":{"line":1,"column":1084}},{"source":"sw.js","name":"put","original":{"line":69,"column":8},"generated":{"line":1,"column":1086}},{"source":"sw.js","name":"req","original":{"line":69,"column":12},"generated":{"line":1,"column":1090}},{"source":"sw.js","name":"res","original":{"line":69,"column":17},"generated":{"line":1,"column":1092}},{"source":"sw.js","name":"clone","original":{"line":69,"column":21},"generated":{"line":1,"column":1094}},{"source":"sw.js","name":"res","original":{"line":70,"column":11},"generated":{"line":1,"column":1103}},{"source":"sw.js","original":{"line":71,"column":4},"generated":{"line":1,"column":1105}},{"source":"sw.js","name":"err","original":{"line":71,"column":11},"generated":{"line":1,"column":1111}},{"source":"sw.js","original":{"line":74,"column":11},"generated":{"line":1,"column":1114}},{"source":"sw.js","name":"console","original":{"line":73,"column":4},"generated":{"line":1,"column":1121}},{"source":"sw.js","name":"log","original":{"line":73,"column":12},"generated":{"line":1,"column":1129}},{"source":"sw.js","original":{"line":73,"column":16},"generated":{"line":1,"column":1133}},{"source":"sw.js","name":"err","original":{"line":73,"column":35},"generated":{"line":1,"column":1151}},{"source":"sw.js","name":"caches","original":{"line":74,"column":17},"generated":{"line":1,"column":1160}},{"source":"sw.js","name":"match","original":{"line":74,"column":24},"generated":{"line":1,"column":1167}},{"source":"sw.js","name":"req","original":{"line":74,"column":30},"generated":{"line":1,"column":1173}},{"source":"sw.js","name":"graphql","original":{"line":77,"column":6},"generated":{"line":1,"column":1178}},{"source":"sw.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1180}},{"source":"sw.js","name":"db","original":{"line":77,"column":23},"generated":{"line":1,"column":1186}},{"source":"sw.js","name":"evt","original":{"line":77,"column":27},"generated":{"line":1,"column":1188}},{"source":"sw.js","name":"req","original":{"line":78,"column":8},"generated":{"line":1,"column":1193}},{"source":"sw.js","name":"req","original":{"line":78,"column":8},"generated":{"line":1,"column":1199}},{"source":"sw.js","name":"evt","original":{"line":78,"column":14},"generated":{"line":1,"column":1201}},{"source":"sw.js","name":"request","original":{"line":78,"column":18},"generated":{"line":1,"column":1203}},{"source":"sw.js","name":"clone","original":{"line":78,"column":26},"generated":{"line":1,"column":1211}},{"source":"sw.js","name":"url","original":{"line":79,"column":8},"generated":{"line":1,"column":1219}},{"source":"sw.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1221}},{"source":"sw.js","name":"URL","original":{"line":79,"column":18},"generated":{"line":1,"column":1225}},{"source":"sw.js","name":"req","original":{"line":79,"column":22},"generated":{"line":1,"column":1229}},{"source":"sw.js","name":"url","original":{"line":79,"column":26},"generated":{"line":1,"column":1231}},{"source":"sw.js","name":"$er","original":{"line":84,"column":8},"generated":{"line":1,"column":1236}},{"source":"sw.js","name":"caches","original":{"line":84,"column":20},"generated":{"line":1,"column":1244}},{"source":"sw.js","name":"open","original":{"line":84,"column":27},"generated":{"line":1,"column":1251}},{"source":"sw.js","original":{"line":84,"column":32},"generated":{"line":1,"column":1256}},{"source":"sw.js","original":{"line":85,"column":6},"generated":{"line":1,"column":1269}},{"source":"sw.js","name":"res","original":{"line":86,"column":10},"generated":{"line":1,"column":1273}},{"source":"sw.js","name":"res","original":{"line":86,"column":10},"generated":{"line":1,"column":1279}},{"source":"sw.js","name":"fetch","original":{"line":86,"column":22},"generated":{"line":1,"column":1287}},{"source":"sw.js","name":"req","original":{"line":86,"column":28},"generated":{"line":1,"column":1293}},{"source":"sw.js","name":"res","original":{"line":88,"column":11},"generated":{"line":1,"column":1296}},{"source":"sw.js","name":"$er","original":{"line":87,"column":4},"generated":{"line":1,"column":1303}},{"source":"sw.js","name":"put","original":{"line":87,"column":8},"generated":{"line":1,"column":1305}},{"source":"sw.js","name":"url","original":{"line":87,"column":12},"generated":{"line":1,"column":1309}},{"source":"sw.js","name":"href","original":{"line":87,"column":16},"generated":{"line":1,"column":1311}},{"source":"sw.js","name":"res","original":{"line":87,"column":22},"generated":{"line":1,"column":1316}},{"source":"sw.js","name":"clone","original":{"line":87,"column":26},"generated":{"line":1,"column":1318}},{"source":"sw.js","name":"res","original":{"line":88,"column":11},"generated":{"line":1,"column":1327}},{"source":"sw.js","original":{"line":89,"column":4},"generated":{"line":1,"column":1329}},{"source":"sw.js","name":"err","original":{"line":89,"column":11},"generated":{"line":1,"column":1335}},{"source":"sw.js","original":{"line":92,"column":11},"generated":{"line":1,"column":1338}},{"source":"sw.js","name":"console","original":{"line":91,"column":4},"generated":{"line":1,"column":1345}},{"source":"sw.js","name":"log","original":{"line":91,"column":12},"generated":{"line":1,"column":1353}},{"source":"sw.js","original":{"line":91,"column":16},"generated":{"line":1,"column":1357}},{"source":"sw.js","name":"err","original":{"line":91,"column":35},"generated":{"line":1,"column":1375}},{"source":"sw.js","name":"caches","original":{"line":92,"column":17},"generated":{"line":1,"column":1384}},{"source":"sw.js","name":"match","original":{"line":92,"column":24},"generated":{"line":1,"column":1391}},{"source":"sw.js","name":"req","original":{"line":92,"column":30},"generated":{"line":1,"column":1397}},{"source":"sw.js","name":"graphqlOG","original":{"line":96,"column":6},"generated":{"line":1,"column":1402}},{"source":"sw.js","original":{"line":96,"column":18},"generated":{"line":1,"column":1404}},{"source":"sw.js","name":"db","original":{"line":96,"column":19},"generated":{"line":1,"column":1405}},{"source":"sw.js","name":"evt","original":{"line":96,"column":23},"generated":{"line":1,"column":1407}},{"source":"sw.js","name":"db","original":{"line":101,"column":2},"generated":{"line":1,"column":1412}},{"source":"sw.js","name":"version","original":{"line":101,"column":5},"generated":{"line":1,"column":1414}},{"source":"sw.js","original":{"line":101,"column":13},"generated":{"line":1,"column":1422}},{"source":"sw.js","name":"stores","original":{"line":101,"column":16},"generated":{"line":1,"column":1425}},{"source":"sw.js","original":{"line":101,"column":23},"generated":{"line":1,"column":1432}},{"source":"sw.js","name":"post_cache","original":{"line":102,"column":4},"generated":{"line":1,"column":1433}},{"source":"sw.js","original":{"line":102,"column":16},"generated":{"line":1,"column":1444}},{"source":"sw.js","name":"evt","original":{"line":105,"column":2},"generated":{"line":1,"column":1473}},{"source":"sw.js","name":"respondWith","original":{"line":105,"column":6},"generated":{"line":1,"column":1475}},{"source":"sw.js","name":"fetch","original":{"line":107,"column":4},"generated":{"line":1,"column":1487}},{"source":"sw.js","name":"evt","original":{"line":107,"column":10},"generated":{"line":1,"column":1493}},{"source":"sw.js","name":"request","original":{"line":107,"column":14},"generated":{"line":1,"column":1495}},{"source":"sw.js","name":"clone","original":{"line":107,"column":22},"generated":{"line":1,"column":1503}},{"source":"sw.js","name":"then","original":{"line":108,"column":7},"generated":{"line":1,"column":1512}},{"source":"sw.js","name":"res","original":{"line":108,"column":12},"generated":{"line":1,"column":1517}},{"source":"sw.js","name":"req","original":{"line":110,"column":14},"generated":{"line":1,"column":1521}},{"source":"sw.js","name":"url","original":{"line":111,"column":14},"generated":{"line":1,"column":1527}},{"source":"sw.js","name":"evt","original":{"line":110,"column":20},"generated":{"line":1,"column":1529}},{"source":"sw.js","name":"request","original":{"line":110,"column":24},"generated":{"line":1,"column":1531}},{"source":"sw.js","name":"clone","original":{"line":110,"column":32},"generated":{"line":1,"column":1539}},{"source":"sw.js","name":"url","original":{"line":111,"column":24},"generated":{"line":1,"column":1547}},{"source":"sw.js","name":"res","original":{"line":114,"column":15},"generated":{"line":1,"column":1551}},{"source":"sw.js","name":"console","original":{"line":112,"column":8},"generated":{"line":1,"column":1558}},{"source":"sw.js","name":"log","original":{"line":112,"column":16},"generated":{"line":1,"column":1566}},{"source":"sw.js","original":{"line":112,"column":20},"generated":{"line":1,"column":1570}},{"source":"sw.js","name":"url","original":{"line":112,"column":39},"generated":{"line":1,"column":1588}},{"source":"sw.js","name":"cachePut","original":{"line":113,"column":8},"generated":{"line":1,"column":1591}},{"source":"sw.js","name":"evt","original":{"line":113,"column":17},"generated":{"line":1,"column":1593}},{"source":"sw.js","name":"request","original":{"line":113,"column":21},"generated":{"line":1,"column":1595}},{"source":"sw.js","name":"clone","original":{"line":113,"column":29},"generated":{"line":1,"column":1603}},{"source":"sw.js","name":"res","original":{"line":113,"column":38},"generated":{"line":1,"column":1611}},{"source":"sw.js","name":"clone","original":{"line":113,"column":42},"generated":{"line":1,"column":1613}},{"source":"sw.js","name":"db","original":{"line":113,"column":51},"generated":{"line":1,"column":1621}},{"source":"sw.js","name":"post_cache","original":{"line":113,"column":54},"generated":{"line":1,"column":1623}},{"source":"sw.js","name":"res","original":{"line":114,"column":15},"generated":{"line":1,"column":1635}},{"source":"sw.js","name":"catch","original":{"line":116,"column":7},"generated":{"line":1,"column":1639}},{"source":"sw.js","name":"err","original":{"line":116,"column":13},"generated":{"line":1,"column":1645}},{"source":"sw.js","name":"console","original":{"line":117,"column":8},"generated":{"line":1,"column":1649}},{"source":"sw.js","name":"log","original":{"line":117,"column":16},"generated":{"line":1,"column":1657}},{"source":"sw.js","original":{"line":117,"column":20},"generated":{"line":1,"column":1661}},{"source":"sw.js","name":"err","original":{"line":117,"column":48},"generated":{"line":1,"column":1688}},{"source":"sw.js","name":"cacheMatch","original":{"line":118,"column":15},"generated":{"line":1,"column":1691}},{"source":"sw.js","name":"evt","original":{"line":118,"column":26},"generated":{"line":1,"column":1693}},{"source":"sw.js","name":"request","original":{"line":118,"column":30},"generated":{"line":1,"column":1695}},{"source":"sw.js","name":"clone","original":{"line":118,"column":38},"generated":{"line":1,"column":1703}},{"source":"sw.js","name":"db","original":{"line":118,"column":47},"generated":{"line":1,"column":1711}},{"source":"sw.js","name":"post_cache","original":{"line":118,"column":50},"generated":{"line":1,"column":1713}},{"source":"sw.js","original":{"line":136,"column":0},"generated":{"line":1,"column":1729}},{"source":"sw.js","name":"serializeRequest","original":{"line":136,"column":9},"generated":{"line":1,"column":1738}},{"source":"sw.js","name":"req","original":{"line":136,"column":26},"generated":{"line":1,"column":1740}},{"source":"sw.js","name":"serialized","original":{"line":137,"column":6},"generated":{"line":1,"column":1743}},{"source":"sw.js","name":"serialized","original":{"line":137,"column":6},"generated":{"line":1,"column":1747}},{"source":"sw.js","original":{"line":137,"column":19},"generated":{"line":1,"column":1749}},{"source":"sw.js","name":"url","original":{"line":138,"column":4},"generated":{"line":1,"column":1750}},{"source":"sw.js","name":"req","original":{"line":138,"column":9},"generated":{"line":1,"column":1754}},{"source":"sw.js","name":"url","original":{"line":138,"column":13},"generated":{"line":1,"column":1756}},{"source":"sw.js","name":"headers","original":{"line":139,"column":4},"generated":{"line":1,"column":1760}},{"source":"sw.js","name":"serializeHeaders","original":{"line":139,"column":13},"generated":{"line":1,"column":1768}},{"source":"sw.js","name":"req","original":{"line":139,"column":30},"generated":{"line":1,"column":1770}},{"source":"sw.js","name":"headers","original":{"line":139,"column":34},"generated":{"line":1,"column":1772}},{"source":"sw.js","name":"method","original":{"line":140,"column":4},"generated":{"line":1,"column":1781}},{"source":"sw.js","name":"req","original":{"line":140,"column":12},"generated":{"line":1,"column":1788}},{"source":"sw.js","name":"method","original":{"line":140,"column":16},"generated":{"line":1,"column":1790}},{"source":"sw.js","name":"mode","original":{"line":141,"column":4},"generated":{"line":1,"column":1797}},{"source":"sw.js","name":"req","original":{"line":141,"column":10},"generated":{"line":1,"column":1802}},{"source":"sw.js","name":"mode","original":{"line":141,"column":14},"generated":{"line":1,"column":1804}},{"source":"sw.js","name":"credentials","original":{"line":142,"column":4},"generated":{"line":1,"column":1809}},{"source":"sw.js","name":"req","original":{"line":142,"column":17},"generated":{"line":1,"column":1821}},{"source":"sw.js","name":"credentials","original":{"line":142,"column":21},"generated":{"line":1,"column":1823}},{"source":"sw.js","name":"cache","original":{"line":143,"column":4},"generated":{"line":1,"column":1835}},{"source":"sw.js","name":"req","original":{"line":143,"column":11},"generated":{"line":1,"column":1841}},{"source":"sw.js","name":"cache","original":{"line":143,"column":15},"generated":{"line":1,"column":1843}},{"source":"sw.js","name":"redirect","original":{"line":144,"column":4},"generated":{"line":1,"column":1849}},{"source":"sw.js","name":"req","original":{"line":144,"column":14},"generated":{"line":1,"column":1858}},{"source":"sw.js","name":"redirect","original":{"line":144,"column":18},"generated":{"line":1,"column":1860}},{"source":"sw.js","name":"referrer","original":{"line":145,"column":4},"generated":{"line":1,"column":1869}},{"source":"sw.js","name":"req","original":{"line":145,"column":14},"generated":{"line":1,"column":1878}},{"source":"sw.js","name":"referrer","original":{"line":145,"column":18},"generated":{"line":1,"column":1880}},{"source":"sw.js","name":"req","original":{"line":149,"column":6},"generated":{"line":1,"column":1890}},{"source":"sw.js","original":{"line":149,"column":21},"generated":{"line":1,"column":1896}},{"source":"sw.js","name":"req","original":{"line":149,"column":6},"generated":{"line":1,"column":1904}},{"source":"sw.js","name":"method","original":{"line":149,"column":10},"generated":{"line":1,"column":1906}},{"source":"sw.js","original":{"line":149,"column":45},"generated":{"line":1,"column":1914}},{"source":"sw.js","name":"req","original":{"line":149,"column":30},"generated":{"line":1,"column":1923}},{"source":"sw.js","name":"method","original":{"line":149,"column":34},"generated":{"line":1,"column":1925}},{"source":"sw.js","name":"req","original":{"line":150,"column":11},"generated":{"line":1,"column":1932}},{"source":"sw.js","name":"clone","original":{"line":151,"column":7},"generated":{"line":1,"column":1934}},{"source":"sw.js","name":"text","original":{"line":152,"column":7},"generated":{"line":1,"column":1942}},{"source":"sw.js","name":"then","original":{"line":153,"column":7},"generated":{"line":1,"column":1949}},{"source":"sw.js","original":{"line":153,"column":12},"generated":{"line":1,"column":1954}},{"source":"sw.js","name":"body","original":{"line":153,"column":21},"generated":{"line":1,"column":1963}},{"source":"sw.js","name":"Promise","original":{"line":155,"column":15},"generated":{"line":1,"column":1966}},{"source":"sw.js","name":"serialized","original":{"line":154,"column":8},"generated":{"line":1,"column":1973}},{"source":"sw.js","name":"body","original":{"line":154,"column":19},"generated":{"line":1,"column":1975}},{"source":"sw.js","name":"body","original":{"line":154,"column":26},"generated":{"line":1,"column":1980}},{"source":"sw.js","name":"Promise","original":{"line":155,"column":15},"generated":{"line":1,"column":1982}},{"source":"sw.js","name":"resolve","original":{"line":155,"column":23},"generated":{"line":1,"column":1990}},{"source":"sw.js","name":"serialized","original":{"line":155,"column":31},"generated":{"line":1,"column":1998}},{"source":"sw.js","name":"Promise","original":{"line":158,"column":9},"generated":{"line":1,"column":2003}},{"source":"sw.js","name":"resolve","original":{"line":158,"column":17},"generated":{"line":1,"column":2011}},{"source":"sw.js","name":"serialized","original":{"line":158,"column":25},"generated":{"line":1,"column":2019}},{"source":"sw.js","original":{"line":168,"column":0},"generated":{"line":1,"column":2022}},{"source":"sw.js","name":"serializeResponse","original":{"line":168,"column":9},"generated":{"line":1,"column":2031}},{"source":"sw.js","name":"res","original":{"line":168,"column":27},"generated":{"line":1,"column":2033}},{"source":"sw.js","name":"serialized","original":{"line":169,"column":6},"generated":{"line":1,"column":2036}},{"source":"sw.js","name":"serialized","original":{"line":169,"column":6},"generated":{"line":1,"column":2040}},{"source":"sw.js","original":{"line":169,"column":19},"generated":{"line":1,"column":2042}},{"source":"sw.js","name":"headers","original":{"line":170,"column":4},"generated":{"line":1,"column":2043}},{"source":"sw.js","name":"serializeHeaders","original":{"line":170,"column":13},"generated":{"line":1,"column":2051}},{"source":"sw.js","name":"res","original":{"line":170,"column":30},"generated":{"line":1,"column":2053}},{"source":"sw.js","name":"headers","original":{"line":170,"column":34},"generated":{"line":1,"column":2055}},{"source":"sw.js","name":"status","original":{"line":171,"column":4},"generated":{"line":1,"column":2064}},{"source":"sw.js","name":"res","original":{"line":171,"column":12},"generated":{"line":1,"column":2071}},{"source":"sw.js","name":"status","original":{"line":171,"column":16},"generated":{"line":1,"column":2073}},{"source":"sw.js","name":"statusText","original":{"line":172,"column":4},"generated":{"line":1,"column":2080}},{"source":"sw.js","name":"res","original":{"line":172,"column":16},"generated":{"line":1,"column":2091}},{"source":"sw.js","name":"statusText","original":{"line":172,"column":20},"generated":{"line":1,"column":2093}},{"source":"sw.js","name":"res","original":{"line":175,"column":9},"generated":{"line":1,"column":2105}},{"source":"sw.js","name":"res","original":{"line":175,"column":9},"generated":{"line":1,"column":2112}},{"source":"sw.js","name":"clone","original":{"line":176,"column":5},"generated":{"line":1,"column":2114}},{"source":"sw.js","name":"text","original":{"line":177,"column":5},"generated":{"line":1,"column":2122}},{"source":"sw.js","name":"then","original":{"line":178,"column":5},"generated":{"line":1,"column":2129}},{"source":"sw.js","original":{"line":178,"column":10},"generated":{"line":1,"column":2134}},{"source":"sw.js","name":"body","original":{"line":178,"column":19},"generated":{"line":1,"column":2143}},{"source":"sw.js","name":"Promise","original":{"line":180,"column":13},"generated":{"line":1,"column":2146}},{"source":"sw.js","name":"serialized","original":{"line":179,"column":6},"generated":{"line":1,"column":2153}},{"source":"sw.js","name":"body","original":{"line":179,"column":17},"generated":{"line":1,"column":2155}},{"source":"sw.js","name":"body","original":{"line":179,"column":24},"generated":{"line":1,"column":2160}},{"source":"sw.js","name":"Promise","original":{"line":180,"column":13},"generated":{"line":1,"column":2162}},{"source":"sw.js","name":"resolve","original":{"line":180,"column":21},"generated":{"line":1,"column":2170}},{"source":"sw.js","name":"serialized","original":{"line":180,"column":29},"generated":{"line":1,"column":2178}},{"source":"sw.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2183}},{"source":"sw.js","name":"serializeHeaders","original":{"line":191,"column":9},"generated":{"line":1,"column":2192}},{"source":"sw.js","name":"headers","original":{"line":191,"column":26},"generated":{"line":1,"column":2194}},{"source":"sw.js","name":"serialized","original":{"line":192,"column":6},"generated":{"line":1,"column":2197}},{"source":"sw.js","name":"serialized","original":{"line":192,"column":6},"generated":{"line":1,"column":2201}},{"source":"sw.js","original":{"line":192,"column":19},"generated":{"line":1,"column":2203}},{"source":"sw.js","original":{"line":195,"column":7},"generated":{"line":1,"column":2206}},{"source":"sw.js","original":{"line":195,"column":7},"generated":{"line":1,"column":2210}},{"source":"sw.js","name":"entry","original":{"line":195,"column":11},"generated":{"line":1,"column":2214}},{"source":"sw.js","name":"headers","original":{"line":195,"column":20},"generated":{"line":1,"column":2219}},{"source":"sw.js","name":"entries","original":{"line":195,"column":28},"generated":{"line":1,"column":2221}},{"source":"sw.js","name":"serialized","original":{"line":196,"column":4},"generated":{"line":1,"column":2231}},{"source":"sw.js","name":"entry","original":{"line":196,"column":15},"generated":{"line":1,"column":2233}},{"source":"sw.js","original":{"line":196,"column":21},"generated":{"line":1,"column":2235}},{"source":"sw.js","name":"entry","original":{"line":196,"column":27},"generated":{"line":1,"column":2239}},{"source":"sw.js","original":{"line":196,"column":33},"generated":{"line":1,"column":2241}},{"source":"sw.js","name":"serialized","original":{"line":198,"column":9},"generated":{"line":1,"column":2244}},{"source":"sw.js","name":"serialized","original":{"line":198,"column":9},"generated":{"line":1,"column":2251}},{"source":"sw.js","original":{"line":208,"column":0},"generated":{"line":1,"column":2253}},{"source":"sw.js","name":"deserializeResponse","original":{"line":208,"column":9},"generated":{"line":1,"column":2262}},{"source":"sw.js","name":"data","original":{"line":208,"column":29},"generated":{"line":1,"column":2264}},{"source":"sw.js","name":"Promise","original":{"line":209,"column":9},"generated":{"line":1,"column":2267}},{"source":"sw.js","name":"Promise","original":{"line":209,"column":9},"generated":{"line":1,"column":2274}},{"source":"sw.js","name":"resolve","original":{"line":209,"column":17},"generated":{"line":1,"column":2282}},{"source":"sw.js","original":{"line":209,"column":25},"generated":{"line":1,"column":2290}},{"source":"sw.js","name":"Response","original":{"line":209,"column":29},"generated":{"line":1,"column":2294}},{"source":"sw.js","name":"data","original":{"line":209,"column":38},"generated":{"line":1,"column":2303}},{"source":"sw.js","name":"body","original":{"line":209,"column":43},"generated":{"line":1,"column":2305}},{"source":"sw.js","name":"data","original":{"line":209,"column":49},"generated":{"line":1,"column":2310}},{"source":"sw.js","original":{"line":218,"column":0},"generated":{"line":1,"column":2314}},{"source":"sw.js","name":"getPostId","original":{"line":218,"column":6},"generated":{"line":1,"column":2320}},{"source":"sw.js","original":{"line":218,"column":18},"generated":{"line":1,"column":2322}},{"source":"sw.js","original":{"line":218,"column":18},"generated":{"line":1,"column":2328}},{"source":"sw.js","name":"JSON","original":{"line":219,"column":9},"generated":{"line":1,"column":2331}},{"source":"sw.js","name":"stringify","original":{"line":219,"column":14},"generated":{"line":1,"column":2336}},{"source":"sw.js","name":"serializeRequest","original":{"line":219,"column":24},"generated":{"line":1,"column":2346}},{"source":"sw.js","name":"req","original":{"line":219,"column":41},"generated":{"line":1,"column":2348}},{"source":"sw.js","name":"clone","original":{"line":219,"column":45},"generated":{"line":1,"column":2350}},{"source":"sw.js","original":{"line":228,"column":0},"generated":{"line":1,"column":2360}},{"source":"sw.js","name":"cachePut","original":{"line":228,"column":9},"generated":{"line":1,"column":2369}},{"source":"sw.js","name":"req","original":{"line":228,"column":18},"generated":{"line":1,"column":2371}},{"source":"sw.js","name":"res","original":{"line":228,"column":23},"generated":{"line":1,"column":2373}},{"source":"sw.js","name":"store","original":{"line":228,"column":28},"generated":{"line":1,"column":2375}},{"source":"sw.js","name":"key","original":{"line":229,"column":6},"generated":{"line":1,"column":2378}},{"source":"sw.js","name":"key","original":{"line":229,"column":6},"generated":{"line":1,"column":2382}},{"source":"sw.js","name":"getPostId","original":{"line":230,"column":2},"generated":{"line":1,"column":2384}},{"source":"sw.js","name":"req","original":{"line":230,"column":12},"generated":{"line":1,"column":2386}},{"source":"sw.js","name":"clone","original":{"line":230,"column":16},"generated":{"line":1,"column":2388}},{"source":"sw.js","name":"then","original":{"line":231,"column":5},"generated":{"line":1,"column":2397}},{"source":"sw.js","original":{"line":231,"column":10},"generated":{"line":1,"column":2402}},{"source":"sw.js","name":"id","original":{"line":231,"column":19},"generated":{"line":1,"column":2411}},{"source":"sw.js","name":"serializeResponse","original":{"line":233,"column":13},"generated":{"line":1,"column":2414}},{"source":"sw.js","name":"key","original":{"line":232,"column":6},"generated":{"line":1,"column":2421}},{"source":"sw.js","name":"id","original":{"line":232,"column":12},"generated":{"line":1,"column":2423}},{"source":"sw.js","name":"serializeResponse","original":{"line":233,"column":13},"generated":{"line":1,"column":2425}},{"source":"sw.js","name":"res","original":{"line":233,"column":31},"generated":{"line":1,"column":2427}},{"source":"sw.js","name":"clone","original":{"line":233,"column":35},"generated":{"line":1,"column":2429}},{"source":"sw.js","name":"then","original":{"line":235,"column":5},"generated":{"line":1,"column":2440}},{"source":"sw.js","original":{"line":235,"column":10},"generated":{"line":1,"column":2445}},{"source":"sw.js","name":"serializedResponse","original":{"line":235,"column":19},"generated":{"line":1,"column":2454}},{"source":"sw.js","name":"entry","original":{"line":237,"column":10},"generated":{"line":1,"column":2457}},{"source":"sw.js","name":"entry","original":{"line":237,"column":10},"generated":{"line":1,"column":2461}},{"source":"sw.js","original":{"line":237,"column":18},"generated":{"line":1,"column":2463}},{"source":"sw.js","name":"key","original":{"line":238,"column":8},"generated":{"line":1,"column":2464}},{"source":"sw.js","name":"key","original":{"line":238,"column":13},"generated":{"line":1,"column":2468}},{"source":"sw.js","name":"response","original":{"line":239,"column":8},"generated":{"line":1,"column":2470}},{"source":"sw.js","name":"serializedResponse","original":{"line":236,"column":13},"generated":{"line":1,"column":2479}},{"source":"sw.js","name":"timestamp","original":{"line":240,"column":8},"generated":{"line":1,"column":2481}},{"source":"sw.js","name":"Date","original":{"line":240,"column":19},"generated":{"line":1,"column":2491}},{"source":"sw.js","name":"now","original":{"line":240,"column":24},"generated":{"line":1,"column":2496}},{"source":"sw.js","name":"store","original":{"line":242,"column":6},"generated":{"line":1,"column":2503}},{"source":"sw.js","name":"add","original":{"line":242,"column":12},"generated":{"line":1,"column":2505}},{"source":"sw.js","name":"entry","original":{"line":242,"column":16},"generated":{"line":1,"column":2509}},{"source":"sw.js","name":"catch","original":{"line":242,"column":23},"generated":{"line":1,"column":2512}},{"source":"sw.js","original":{"line":242,"column":29},"generated":{"line":1,"column":2518}},{"source":"sw.js","name":"error","original":{"line":242,"column":38},"generated":{"line":1,"column":2527}},{"source":"sw.js","name":"store","original":{"line":243,"column":8},"generated":{"line":1,"column":2530}},{"source":"sw.js","name":"update","original":{"line":243,"column":14},"generated":{"line":1,"column":2532}},{"source":"sw.js","name":"entry","original":{"line":243,"column":21},"generated":{"line":1,"column":2539}},{"source":"sw.js","name":"key","original":{"line":243,"column":27},"generated":{"line":1,"column":2541}},{"source":"sw.js","name":"entry","original":{"line":243,"column":32},"generated":{"line":1,"column":2545}},{"source":"sw.js","original":{"line":254,"column":0},"generated":{"line":1,"column":2552}},{"source":"sw.js","name":"cacheMatch","original":{"line":254,"column":9},"generated":{"line":1,"column":2561}},{"source":"sw.js","name":"req","original":{"line":254,"column":20},"generated":{"line":1,"column":2563}},{"source":"sw.js","name":"getPostId","original":{"line":255,"column":9},"generated":{"line":1,"column":2566}},{"source":"sw.js","name":"getPostId","original":{"line":255,"column":9},"generated":{"line":1,"column":2573}},{"source":"sw.js","name":"req","original":{"line":255,"column":19},"generated":{"line":1,"column":2575}},{"source":"sw.js","name":"clone","original":{"line":255,"column":23},"generated":{"line":1,"column":2577}},{"source":"sw.js","name":"then","original":{"line":256,"column":5},"generated":{"line":1,"column":2586}},{"source":"sw.js","original":{"line":256,"column":10},"generated":{"line":1,"column":2591}},{"source":"sw.js","name":"id","original":{"line":256,"column":19},"generated":{"line":1,"column":2600}},{"source":"sw.js","name":"store","original":{"line":257,"column":13},"generated":{"line":1,"column":2603}},{"source":"sw.js","name":"store","original":{"line":257,"column":13},"generated":{"line":1,"column":2610}},{"source":"sw.js","name":"get","original":{"line":257,"column":19},"generated":{"line":1,"column":2616}},{"source":"sw.js","name":"id","original":{"line":257,"column":23},"generated":{"line":1,"column":2620}},{"source":"sw.js","name":"then","original":{"line":259,"column":5},"generated":{"line":1,"column":2625}},{"source":"sw.js","original":{"line":259,"column":10},"generated":{"line":1,"column":2630}},{"source":"sw.js","name":"data","original":{"line":259,"column":19},"generated":{"line":1,"column":2639}},{"source":"sw.js","name":"data","original":{"line":260,"column":10},"generated":{"line":1,"column":2642}},{"source":"sw.js","name":"data","original":{"line":260,"column":10},"generated":{"line":1,"column":2649}},{"source":"sw.js","name":"deserializeResponse","original":{"line":261,"column":15},"generated":{"line":1,"column":2651}},{"source":"sw.js","name":"data","original":{"line":261,"column":35},"generated":{"line":1,"column":2653}},{"source":"sw.js","name":"response","original":{"line":261,"column":40},"generated":{"line":1,"column":2655}},{"source":"sw.js","original":{"line":263,"column":15},"generated":{"line":1,"column":2665}},{"source":"sw.js","name":"Response","original":{"line":263,"column":19},"generated":{"line":1,"column":2669}},{"source":"sw.js","original":{"line":263,"column":28},"generated":{"line":1,"column":2678}},{"source":"sw.js","original":{"line":263,"column":32},"generated":{"line":1,"column":2681}},{"source":"sw.js","name":"status","original":{"line":264,"column":10},"generated":{"line":1,"column":2682}},{"source":"sw.js","original":{"line":264,"column":18},"generated":{"line":1,"column":2689}},{"source":"sw.js","name":"statusText","original":{"line":265,"column":10},"generated":{"line":1,"column":2693}},{"source":"sw.js","original":{"line":265,"column":22},"generated":{"line":1,"column":2704}}],"sources":{"sw.js":"importScripts(\r\n  'https://unpkg.com/dexie@2.0.4/dist/dexie.js',\r\n  'https://unpkg.com/ramda@0.26.1/dist/ramda.min.js',\r\n  'https://unpkg.com/axios@0.19.0/dist/axios.min.js',\r\n  'https://unpkg.com/swivel@4.0.3/dist/swivel.min.js'\r\n)\r\n\r\nlet static = ['index.html', 'index.js']\r\n\r\naddEventListener('install', async evt => {\r\n  console.log('Service Worker installing.')\r\n  const $C$ = await caches.open('my_$') // create a new cache object\r\n  $C$.addAll(static) // put local static assets in\r\n})\r\n\r\n// addEventListener('activate', async evt =>\r\n//   console.log('Service Worker activating.')\r\n// )\r\n\r\n// Immediately claim any new clients. This is not needed to send messages, but\r\n// makes for a better demo experience since the user does not need to refresh.\r\n// A more complete example of this given in the immediate-claim recipe.\r\naddEventListener('activate', function(event) {\r\n  event.waitUntil(self.clients.claim())\r\n})\r\n\r\naddEventListener('message', async evt =>\r\n  console.log('Service Worker messaging.')\r\n)\r\n\r\naddEventListener('fetch', evt => {\r\n  // console.log('from ./sw.js fetch:', e)\r\n  // console.log('fetch e:', evt)\r\n  var db = new Dexie('post_cache')\r\n  const req = evt.request.clone()\r\n  const url = new URL(req.url) // create a url object\r\n  console.log('url.origin:', url.origin)\r\n  if (\r\n    req.method === 'POST' && // is a POST request\r\n    url.pathname.match(/graphql/g).length > 0 && // is a graphql request\r\n    url.href.match(/mutation/g) === null // isn't a mutation\r\n  ) {\r\n    console.log('mutations:', url.href.match(/mutation/g))\r\n    console.log('req:', req)\r\n    console.log('url:', url)\r\n    console.log('evt:', evt)\r\n    graphql(db, evt)\r\n  } else if (url.origin === location.origin) {\r\n    evt.respondWith($thenNet(req)) // prefer cache first if own resource\r\n  } else {\r\n    evt.respondWith(netThen$(req)) // prefer network first for external\r\n  }\r\n})\r\n\r\nconst $thenNet = async req => {\r\n  // console.log('$thenNet req =>', req)\r\n  const $ed = await caches.match(req) // match any previous requests\r\n  return $ed || fetch(req) // return matches if there, else fetch\r\n}\r\n\r\nconst netThen$ = async req => {\r\n  // console.log('netThen$ r =>', req)\r\n  // We will cache all POST requests, but in the real world, you will probably filter for\r\n  // specific URLs like if(... || event.request.url.href.match(...))\r\n\r\n  const $er = await caches.open('new_$') // create a new cache object\r\n  try {\r\n    const res = await fetch(req)\r\n    $er.put(req, res.clone()) // put a new k:v pair into the object\r\n    return res\r\n  } catch (err) {\r\n    // if fetch doesn't work\r\n    console.log('netThen$ ERROR:', err)\r\n    return await caches.match(req) // return any matches\r\n  }\r\n}\r\nconst graphql = async (db, evt) => {\r\n  const req = evt.request.clone()\r\n  const url = new URL(req.url)\r\n  // console.log('netThen$ r =>', req)\r\n  // We will cache all POST requests, but in the real world, you will probably filter for\r\n  // specific URLs like if(... || event.request.url.href.match(...))\r\n\r\n  const $er = await caches.open('graphql_$') // create a new cache object\r\n  try {\r\n    const res = await fetch(req)\r\n    $er.put(url.href, res.clone()) // put a new k:v pair into the object\r\n    return res\r\n  } catch (err) {\r\n    // if fetch doesn't work\r\n    console.log('netThen$ ERROR:', err)\r\n    return await caches.match(req) // return any matches\r\n  }\r\n}\r\n//https://a.kabachnik.info/offline-post-requests-via-service-worker-and-indexeddb.html\r\nconst graphqlOG = (db, evt) => {\r\n  // Init the cache. We use Dexie here to simplify the code. You can use any other\r\n  // way to access IndexedDB of course.\r\n  // console.log(\"req.method === 'POST'\")\r\n\r\n  db.version(1).stores({\r\n    post_cache: 'key, response, timestamp',\r\n  })\r\n\r\n  evt.respondWith(\r\n    // First try to fetch the request from the server\r\n    fetch(evt.request.clone())\r\n      .then(res => {\r\n        // If it works, put the response into IndexedDB\r\n        const req = evt.request.clone()\r\n        const url = req.url\r\n        console.log('URL in caching:', url)\r\n        cachePut(evt.request.clone(), res.clone(), db.post_cache)\r\n        return res\r\n      })\r\n      .catch(err => {\r\n        console.log('caught error in graphql:', err)\r\n        return cacheMatch(evt.request.clone(), db.post_cache)\r\n      })\r\n    // If it does not work, return the cached response. If the cache does not\r\n    // contain a response for our request, it will give us a 503-response\r\n  )\r\n}\r\n\r\n// console.log('Dexie:', Dexie)\r\n// console.log('R:', R)\r\n// console.log('axios:', axios)\r\n// console.log('swivel:', swivel)\r\n\r\n// swivel.on('data', function handler(context, ...data) {\r\n//   console.log('swivel `context`:', context)\r\n//   console.log('swivel `data`:', data)\r\n//   context.reply('data', 'BLOOP')\r\n// })\r\n\r\nfunction serializeRequest(req) {\r\n  var serialized = {\r\n    url: req.url,\r\n    headers: serializeHeaders(req.headers),\r\n    method: req.method,\r\n    mode: req.mode,\r\n    credentials: req.credentials,\r\n    cache: req.cache,\r\n    redirect: req.redirect,\r\n    referrer: req.referrer,\r\n  }\r\n\r\n  // Only if method is not `GET` or `HEAD` is the request allowed to have body.\r\n  if (req.method !== 'GET' && req.method !== 'HEAD') {\r\n    return req\r\n      .clone()\r\n      .text()\r\n      .then(function(body) {\r\n        serialized.body = body\r\n        return Promise.resolve(serialized)\r\n      })\r\n  }\r\n  return Promise.resolve(serialized)\r\n}\r\n\r\n/**\r\n * Serializes a Response into a plain JS object\r\n *\r\n * @param res\r\n * @returns Promise\r\n */\r\n\r\nfunction serializeResponse(res) {\r\n  var serialized = {\r\n    headers: serializeHeaders(res.headers),\r\n    status: res.status,\r\n    statusText: res.statusText,\r\n  }\r\n\r\n  return res\r\n    .clone()\r\n    .text()\r\n    .then(function(body) {\r\n      serialized.body = body\r\n      return Promise.resolve(serialized)\r\n    })\r\n}\r\n\r\n/**\r\n * Serializes headers into a plain JS object\r\n *\r\n * @param headers\r\n * @returns object\r\n */\r\n\r\nfunction serializeHeaders(headers) {\r\n  var serialized = {}\r\n  // `for(... of ...)` is ES6 notation but current browsers supporting SW, support this\r\n  // notation as well and this is the only way of retrieving all the headers.\r\n  for (var entry of headers.entries()) {\r\n    serialized[entry[0]] = entry[1]\r\n  }\r\n  return serialized\r\n}\r\n\r\n/**\r\n * Creates a Response from it's serialized version\r\n *\r\n * @param data\r\n * @returns Promise\r\n */\r\n\r\nfunction deserializeResponse(data) {\r\n  return Promise.resolve(new Response(data.body, data))\r\n}\r\n\r\n/**\r\n * Returns a string identifier for our POST request.\r\n *\r\n * @param request\r\n * @return string\r\n */\r\nconst getPostId = async req => {\r\n  return JSON.stringify(serializeRequest(req.clone()))\r\n}\r\n\r\n/**\r\n * Saves the response for the given request eventually overriding the previous version\r\n *\r\n * @param data\r\n * @returns Promise\r\n */\r\nfunction cachePut(req, res, store) {\r\n  var key, data\r\n  getPostId(req.clone())\r\n    .then(function(id) {\r\n      key = id\r\n      return serializeResponse(res.clone())\r\n    })\r\n    .then(function(serializedResponse) {\r\n      data = serializedResponse\r\n      var entry = {\r\n        key: key,\r\n        response: data,\r\n        timestamp: Date.now(),\r\n      }\r\n      store.add(entry).catch(function(error) {\r\n        store.update(entry.key, entry)\r\n      })\r\n    })\r\n}\r\n\r\n/**\r\n * Returns the cached response for the given req or an empty 503-response  for a cache miss.\r\n *\r\n * @param req\r\n * @return Promise\r\n */\r\nfunction cacheMatch(req) {\r\n  return getPostId(req.clone())\r\n    .then(function(id) {\r\n      return store.get(id)\r\n    })\r\n    .then(function(data) {\r\n      if (data) {\r\n        return deserializeResponse(data.response)\r\n      } else {\r\n        return new Response('', {\r\n          status: 503,\r\n          statusText: 'Service Unavailable',\r\n        })\r\n      }\r\n    })\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"44abfc5795cb5126d519037e03b64275","cacheData":{"env":{}}}